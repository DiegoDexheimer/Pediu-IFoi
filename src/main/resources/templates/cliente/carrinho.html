<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Carrinho</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap">
    <link rel="stylesheet" href="/css/cliente.css">
    <style>
        .carrinho-container { max-width: 600px; margin: 40px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.07); padding: 24px; }
        .carrinho-title { font-size: 1.5rem; font-weight: 700; color: #218838; margin-bottom: 24px; }
        .carrinho-list { list-style: none; padding: 0; margin: 0; }
        .carrinho-item { display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #eee; padding: 16px 0; }
        .item-info { display: flex; align-items: center; gap: 16px; }
        .item-img { width: 60px; height: 60px; object-fit: cover; border-radius: 8px; background: #f7f7f7; }
        .item-nome { font-size: 1.1rem; font-weight: 600; }
        .item-quantidade { font-size: 1rem; color: #555; margin-left: 8px; }
        .item-preco { font-size: 1rem; font-weight: 700; color: #218838; }
        .item-remove { background: none; border: none; color: #e74c3c; font-size: 1.2rem; cursor: pointer; margin-left: 12px; }
        .carrinho-total { font-size: 1.2rem; font-weight: 700; color: #218838; text-align: right; margin-top: 24px; }
        .carrinho-actions { display: flex; justify-content: flex-end; gap: 16px; margin-top: 32px; }
        .btn-finalizar { background: #218838; color: #fff; border: none; border-radius: 8px; padding: 12px 32px; font-size: 1.1rem; font-weight: 600; cursor: pointer; }
        .btn-voltar { background: #f8bcbc; color: #218838; border: none; border-radius: 8px; padding: 12px 24px; font-size: 1rem; font-weight: 600; cursor: pointer; }
        @media (max-width: 600px) {
            .carrinho-container { max-width: 98vw; padding: 8px; }
            .item-img { width: 40px; height: 40px; }
            .carrinho-title { font-size: 1.1rem; }
            .btn-finalizar, .btn-voltar { padding: 10px 8px; font-size: 1rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <img src="/static/favicon.ico" alt="Logo Pediu-IFoi">
        <span class="header-title">Pediu-IFoi</span>
    </div>
    <div class="carrinho-container">
        <div class="carrinho-title">Seu Carrinho</div>
        <ul class="carrinho-list">
            <li class="carrinho-item" th:each="item : ${carrinho.itens}">
                <div class="item-info">
                    <img class="item-img" src="/static/default_produto.png" alt="Imagem do produto">
                    <span class="item-nome" th:text="${item.produto.nome}">Produto</span>
                    <span class="item-quantidade">x <span th:text="${item.quantidade}">1</span></span>
                </div>
                <div>
                    <span class="item-preco" th:text="'R$ ' + ${item.produto.preco}">R$ 0,00</span>
                    <form th:action="@{/carrinho/remover}" method="post" style="display:inline;">
                        <input type="hidden" name="produtoId" th:value="${item.produto.id}" />
                        <button type="submit" class="item-remove" title="Remover">&times;</button>
                    </form>
                </div>
            </li>
        </ul>
        <div class="carrinho-total">Total: <span th:text="'R$ ' + ${carrinho.total}">R$ 0,00</span></div>
        <div class="carrinho-actions">
            <a th:href="@{/cliente/home_cliente}" class="btn-voltar">Voltar</a>
            <form th:action="@{/carrinho/finalizar}" method="post" style="display:inline;">
                <button type="submit" class="btn-finalizar">Finalizar Pedido</button>
            </form>
        </div>
    </div>

    <div class="bottom-nav">
        <a th:href="@{/cliente/home_cliente}" class="nav-item">
            <svg width="24" height="24" fill="none" stroke="#218838" stroke-width="2">
                <path d="M3 12L12 3l9 9" />
                <path d="M4 10v10h16V10" />
            </svg>
            In√≠cio
        </a>
        <a href="#" class="nav-item">
            <svg width="24" height="24" fill="none" stroke="#218838" stroke-width="2">
                <rect x="4" y="4" width="16" height="16" rx="4" />
                <path d="M8 10h8M8 14h8" />
            </svg>
            Pedidos
        </a>
        <a th:href="@{/cliente/carrinho_cliente}" class="nav-item">
            <svg width="24" height="24" fill="none" stroke="#218838" stroke-width="2">
                <circle cx="12" cy="12" r="8" />
                <path d="M8 12h8M12 8v8" />
            </svg>
            Carrinho
        </a>
    </div>
</body>
</html>
